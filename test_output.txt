[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.example:MailApplication-Backend >-----------------
[INFO] Building MailApplication-Backend 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.3.2:clean (default-clean) @ MailApplication-Backend ---
[INFO] Deleting /media/pradeep/Windows/mail/MailApplication-Backend/target
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ MailApplication-Backend ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 0 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ MailApplication-Backend ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 33 source files with javac [debug release 17] to target/classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ MailApplication-Backend ---
[INFO] skip non existing resourceDirectory /media/pradeep/Windows/mail/MailApplication-Backend/src/test/resources
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ MailApplication-Backend ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 2 source files with javac [debug release 17] to target/test-classes
[INFO] 
[INFO] --- surefire:3.1.2:test (default-test) @ MailApplication-Backend ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.yourcompany.mailapp.controller.RegisterControllerTest
14:15:54.956 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.yourcompany.mailapp.controller.RegisterControllerTest]: RegisterControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:15:55.180 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.yourcompany.mailapp.MailApplication for test class com.yourcompany.mailapp.controller.RegisterControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2026-02-03T14:15:55.697+05:30  INFO 13436 --- [           main] c.y.m.controller.RegisterControllerTest  : Starting RegisterControllerTest using Java 17.0.17 with PID 13436 (started by pradeep in /media/pradeep/Windows/mail/MailApplication-Backend)
2026-02-03T14:15:55.698+05:30 DEBUG 13436 --- [           main] c.y.m.controller.RegisterControllerTest  : Running with Spring Boot v3.2.3, Spring v6.1.4
2026-02-03T14:15:55.699+05:30  INFO 13436 --- [           main] c.y.m.controller.RegisterControllerTest  : No active profile set, falling back to 1 default profile: "default"
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
2026-02-03T14:15:59.334+05:30  INFO 13436 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61dd1c3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7858d31d, org.springframework.security.web.context.SecurityContextHolderFilter@5464b97c, org.springframework.security.web.header.HeaderWriterFilter@5ba184fc, org.springframework.web.filter.CorsFilter@782e6b40, org.springframework.security.web.csrf.CsrfFilter@4c030fe1, org.springframework.security.web.authentication.logout.LogoutFilter@6c24f61d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d1cfe4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@15f861ee, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3b65084e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a667f44, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f07930a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@580c17a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32d0d7eb, org.springframework.security.web.access.ExceptionTranslationFilter@75dc1c1c, org.springframework.security.web.access.intercept.AuthorizationFilter@2f471037]
2026-02-03T14:15:59.372+05:30  WARN 13436 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 9b28affb-d52c-443b-9dac-a0afbfd8efc7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-03T14:15:59.487+05:30  INFO 13436 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2026-02-03T14:15:59.487+05:30  INFO 13436 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2026-02-03T14:15:59.489+05:30  INFO 13436 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2026-02-03T14:15:59.537+05:30  INFO 13436 --- [           main] c.y.m.controller.RegisterControllerTest  : Started RegisterControllerTest in 4.256 seconds (process running for 5.558)

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/register
       Parameters = {_csrf=[rc4YNDIk1IlS7uwMZdIggULvFApvpm0jSHps2L2QwOnunOeyn68uAlMT4r1_3Ig1AP8U5HeJOWhYkQwOex5Y7oyg8NGPqoHW]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"61"]
             Body = {"mailName":"pradeep40@btctech.shop","password":"securepass"}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/register
       Parameters = {_csrf=[W1g55hbJWIJkztchEvuhEVrj4jVeg52kTNbF8IaLfxfF6bloP2wBhyGvarFJ-LRHINaVcDnRz1Rn4quJeu_3lrCzSiHz3dwJ]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"42"]
             Body = {"mailName":"   ","password":"securepass"}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/auth/register
       Parameters = {_csrf=[a9-ZafXxZkesnYdILihUGfjBW7int2FWkGUi9rCQKxckWYOQUub4D8ySXnKBqbAsTwVgLZ2idtmWjwd7qVIXxdOlSHMQO-ep]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Content-Length:"48"]
             Body = {"mailName":"pradeep40","password":"securepass"}
    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 5.125 s <<< FAILURE! -- in com.yourcompany.mailapp.controller.RegisterControllerTest
[ERROR] com.yourcompany.mailapp.controller.RegisterControllerTest.register_EmailAsUsername_Fails -- Time elapsed: 0.212 s <<< FAILURE!
java.lang.AssertionError: Status expected:<400> but was:<200>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.yourcompany.mailapp.controller.RegisterControllerTest.register_EmailAsUsername_Fails(RegisterControllerTest.java:88)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.yourcompany.mailapp.controller.RegisterControllerTest.register_EmptyUsername_Fails -- Time elapsed: 0.018 s <<< FAILURE!
java.lang.AssertionError: Status expected:<400> but was:<200>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.yourcompany.mailapp.controller.RegisterControllerTest.register_EmptyUsername_Fails(RegisterControllerTest.java:107)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.yourcompany.mailapp.controller.RegisterControllerTest.register_ValidUsername_Success -- Time elapsed: 0.046 s <<< FAILURE!
Wanted but not invoked:
com.yourcompany.mailapp.service.mail.VpsMailService#0 bean.createMailbox(
    "pradeep40",
    "securepass"
);
-> at com.yourcompany.mailapp.service.mail.VpsMailService.createMailbox(VpsMailService.java:25)
Actually, there were zero interactions with this mock.

	at com.yourcompany.mailapp.service.mail.VpsMailService.createMailbox(VpsMailService.java:25)
	at com.yourcompany.mailapp.controller.RegisterControllerTest.register_ValidUsername_Success(RegisterControllerTest.java:73)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   RegisterControllerTest.register_EmailAsUsername_Fails:88 Status expected:<400> but was:<200>
[ERROR]   RegisterControllerTest.register_EmptyUsername_Fails:107 Status expected:<400> but was:<200>
[ERROR]   RegisterControllerTest.register_ValidUsername_Success:73 
Wanted but not invoked:
com.yourcompany.mailapp.service.mail.VpsMailService#0 bean.createMailbox(
    "pradeep40",
    "securepass"
);
-> at com.yourcompany.mailapp.service.mail.VpsMailService.createMailbox(VpsMailService.java:25)
Actually, there were zero interactions with this mock.

[INFO] 
[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  10.969 s
[INFO] Finished at: 2026-02-03T14:15:59+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project MailApplication-Backend: There are test failures.
[ERROR] 
[ERROR] Please refer to /media/pradeep/Windows/mail/MailApplication-Backend/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
